@prefix schema: <http://schema.org/> .
@prefix konig: <http://www.konig.io/ns/core/> .
@prefix alias: <http://example.com/ns/alias/> .
@prefix acme: <http://example.com/ns/acme/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix origin : <http://example.com/shapes/origin/> .
@prefix warehouse: <http://example.com/shapes/warehouse/> .
@prefix data : <http://example.com/resources/> .

origin:ProductShape a sh:Shape ;
	sh:targetClass schema:Product ;
	konig:iriTemplate '''
		@context {
			"alias" : "http://example.com/ns/alias/",
			"data" : "http://example.com/resources/",
			"product_id" : "alias:product_id"
		}
	
		<{data}/product/{product_id}>
''' ;
	sh:property [
		sh:predicate alias:product_id ;
		sh:datatype xsd:long ;
		konig:equivalentPath "/acme:acmeId"
	] , [
		sh:predicate alias:vendor_id ;
		sh:datatype xsd:long ;
		konig:equivalentPath "/schema:brand/acme:acmeId"
	]
.

warehouse:ProductShape a sh:Shape ;
	sh:targetClass schema:Product ;
	sh:property [
		sh:predicate acme:acmeId ;
		sh:datatype xsd:long
	] , [
		sh:predicate schema:brand;
		sh:nodeKind sh:IRI ;
		sh:class schema:Organization
	]
.

origin:OrganizationShape a sh:Shape ;
	sh:targetClass schema:Organization ;
	konig:iriTemplate '''
		@context {
			"alias" : "http://example.com/ns/alias/",
			"data" : "http://example.com/resources/",
			"org_id" : "alias:org_id"
		}
		<{data}/org/{org_id}>
	''' ;
	sh:property [
		sh:predicate alias:org_id ;
		sh:datatype xsd:long ;
		konig:equivalentPath "/acme:acmeId"
	] , [
		sh:predicate alias:organization_name ;
		sh:datatype xsd:string ;
		konig:equivalentPath "/schema:name"
	]
.

	
